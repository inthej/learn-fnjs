<meta charset="UTF-8"/>
<script>const log = console.log</script>
# 함수형프로그래밍
함수형 프로그래밍은 기본적으로 함수라는 것을 런타임에서 실행할 수있다
함수를 변수에 담을수 있다
함수에게 인자로 전달할 수 있다
함수를 리턴할 수 있다

함수를 변수를 다룰 수 있다는 이야기는...
함수 코드 자체도 값이다.

그렇기 때문에 연속된 함수도 축약 할 수 있다
(함수가 값이기 때문에)

# go
- 리스트를 값으로 다루면서 적절하게 평가하는 식으로 동작한다
- 함수자체도 숫자가 들어있는 리스트처럼 사고하고 바라보는 방식으로 구현한다 - LISP(List Processing)
- 명령형 코드를 작성할 때 처럼 위에서부터 시작해서 아래로 읽어나가는 방식을 사용할 수 있다

-(*) go 함수는 함수들과, 인자들을 전달해서 즉시 평가하는데 사용한다

# pipe
- 자바스크립트에서 파이프의 의미
1) 건물 천장에 있는 파이프(배관)를 연상해보자... 무엇이 생각나는가..
주로 이러한 배관들은 A에서 B라는 지점으로 자원을 보내는 용도로 많이 사용된다.
그래서 단순히 터널과 같은 공간의 개념이라고 생각하면 된다.
2) 파이프는 단방향 통신을 위한 용도로 사용된다.
하나의 파이프는 그 이전 파이프에서 전달된 결과를 파라미터로 삼아 또 다른 결과를 내놓는다.

- 파이프는 여러개의 함수를 실행하는 하나의 함수를 리턴한다.
-(*) 파이프 함수는 함수를 리턴하는 함수이다. (이것이 go 함수와 다르다)
- 파이프 함수는 함수들이 나열되어 있는 합성된 함수를 만드는 함수이다


<script src="../js/j_01.js"></script>
<script>
  const add = (a, b) => a + b
  const go = (...args) => reduce((acc, f) => f(acc), args)
  const pipe = (...fs) => (v) => reduce((acc, f) => f(acc), v, fs) // 리듀서로 파이프 함수를 구현
  const pipe2 = (...fs) => {
    return (v) => go(v, ...fs) // go 함수를 통해서 파이프 함수를 구현, 순차적으로 go 함수를 실행하라는 함수..
  }

  const pipe3 = (f, ...fs) => (...as) => go(f(...as), ...fs) // (응용) 인자를 2개 받는 경우의 수를 고려한 파이프 함수,
  // 첫번째 함수의 들어온 인자들을 펼처서 받는다.. (...as)

  go(
    add(0, 1),
    a => a + 1,
    a => a + 10,
    a => a + 100,
    log
  )

  const f = pipe(
    a => a + 1,
    a => a + 10,
    a => a + 100,
    log
  )

  f(0)

  const f2 = pipe2(
    a => a + 1,
    a => a + 10,
    a => a + 100,
    log
  )

  f2(0)

  const f3 = pipe3(
    add,
    a => a + 1,
    a => a + 10,
    a => a + 100,
    log
  )

  f3(0, 1)

</script>